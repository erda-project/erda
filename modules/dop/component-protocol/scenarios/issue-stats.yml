scenario: issue-dashboard

hierarchy:
  root: page
  structure:
    page:
      - header
      - issueTip
      - overview
      - trendChart
      # - chart2
      - chartGroup1
      - chartGroup2
      - stateVerticalBarChart
      - labelHorizontalBarChart
      - assigneeHorizontalBarChart
      # - chart5
    overview:
      - total
      - open
      - expired
      - today
      - week
      - month
      - undefined
      - reopen
    header:
      - issueType
      - filter
    trendChart:
      extraContent:
        trendChartExtra
    trendChartExtra:
      - trendChartFilter
    chartGroup1:
      - statePieChart
      - complexityPieChart
      - priorityPieChart
    chartGroup2:
      - severityPieChart
      - stagePieChart
    stateVerticalBarChart:
      extraContent:
        stateVerticalBarChartExtra
    stateVerticalBarChartExtra:
      - stateVerticalBarChartFilter

    labelHorizontalBarChart:
      extraContent:
        labelHorizontalBarChartExtra
    labelHorizontalBarChartExtra:
      - labelHorizontalBarChartFilter

    assigneeHorizontalBarChart:
      extraContent:
        assigneeHorizontalBarChartExtra
    assigneeHorizontalBarChartExtra:
      - assigneeHorizontalBarChartFilter

components:
  page:
    type: Container
    props: 
      spaceSize: middle
  header:
    type: RowContainer
  issueTip:
    type: Text
  issueType:
    type: Radio
  filter:
    type: ContractiveFilter
  overview:
    type: RowContainer
    props:
      border: true
      whiteBg: true
      contentSetting: between
  total:
    type: Text
  open:
    type: Text
  expired:
    type: Text
  today:
    type: Text
  week:
    type: Text
  month:
    type: Text
  undefined:
    type: Text
  reopen:
    type: Text
  
  
  trendChart:
    type: Chart
  trendChartExtra:
    type: RowContainer
  trendChartFilter:
    type: ContractiveFilter
  chartGroup1:
    type: Grid
  chartGroup2:
    type: Grid
  statePieChart:
    type: Chart
  complexityPieChart:
    type: Chart
  priorityPieChart:
    type: Chart
  severityPieChart:
    type: Chart
  stagePieChart:
    type: Chart

  stateVerticalBarChart:
    type: Chart
  stateVerticalBarChartExtra:
    type: RowContainer
  stateVerticalBarChartFilter:
    type: ContractiveFilter

  labelHorizontalBarChart:
    type: Chart
  labelHorizontalBarChartExtra:
    type: RowContainer
  labelHorizontalBarChartFilter:
    type: ContractiveFilter

  assigneeHorizontalBarChart:
    type: Chart
  assigneeHorizontalBarChartExtra:
    type: RowContainer
  assigneeHorizontalBarChartFilter:
    type: ContractiveFilter


rendering:
  filter:
    - name: trendChartFilter
    - name: stateVerticalBarChartFilter
      state:
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
        - name: "stages"
          value: "{{ filter.stages }}"
    - name: labelHorizontalBarChartFilter
      state:
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
        - name: "stages"
          value: "{{ filter.stages }}"
    - name: assigneeHorizontalBarChartFilter
      state:
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
        - name: "stages"
          value: "{{ filter.stages }}"
    - name: trendChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "iterations"
          value: "{{ filter.iterations }}"
        - name: "values"
          value: "{{ trendChartFilter.values }}"
    - name: statePieChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
    - name: complexityPieChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
    - name: priorityPieChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
    - name: severityPieChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
    - name: stagePieChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "stages"
          value: "{{ filter.stages }}"
    - name: total
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
    - name: stateVerticalBarChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
        - name: "stages"
          value: "{{ filter.stages }}"
        - name: "values"
          value: "{{ stateVerticalBarChartFilter.values }}"
    - name: labelHorizontalBarChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
        - name: "stages"
          value: "{{ filter.stages }}"
        - name: "values"
          value: "{{ labelHorizontalBarChartFilter.values }}"
    - name: assigneeHorizontalBarChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
        - name: "members"
          value: "{{ filter.members }}"
        - name: "stages"
          value: "{{ filter.stages }}"
        - name: "values"
          value: "{{ assigneeHorizontalBarChartFilter.values }}"

  total:
    - name: open
      state:
        - name: "stats"
          value: "{{ total.stats }}"
    - name: expired
      state:
        - name: "stats"
          value: "{{ total.stats }}"
    - name: today
      state:
        - name: "stats"
          value: "{{ total.stats }}"
    - name: month
      state:
        - name: "stats"
          value: "{{ total.stats }}"
    - name: week
      state:
        - name: "stats"
          value: "{{ total.stats }}"
    - name: open
      state:
        - name: "stats"
          value: "{{ total.stats }}"
    - name: undefined
      state:
        - name: "stats"
          value: "{{ total.stats }}"

  trendChartFilter:
    - name: filter
    - name: trendChart
      state:
        - name: "values"
          value: "{{ trendChartFilter.values }}"
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "iterations"
          value: "{{ filter.iterations }}"

  stateVerticalBarChartFilter:
    - name: filter
    - name: stateVerticalBarChart
      state:
        - name: "values"
          value: "{{ stateVerticalBarChartFilter.values }}"
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
        - name: "stages"
          value: "{{ filter.stages }}"
  
  labelHorizontalBarChartFilter:
    - name: filter
    - name: labelHorizontalBarChart
      state:
        - name: "values"
          value: "{{ labelHorizontalBarChartFilter.values }}"
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
        - name: "stages"
          value: "{{ filter.stages }}"

  assigneeHorizontalBarChartFilter:
    - name: filter
    - name: assigneeHorizontalBarChart
      state:
        - name: "values"
          value: "{{ assigneeHorizontalBarChartFilter.values }}"
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
        - name: "members"
          value: "{{ filter.members }}"
        - name: "stages"
          value: "{{ filter.stages }}"

  __DefaultRendering__:
    - name: page
    - name: header
    - name: filter
    - name: issueType
    - name: issueTip

    - name: overview
    - name: total
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
    - name: open
      state:
        - name: "stats"
          value: "{{ total.stats }}"
    - name: expired
      state:
        - name: "stats"
          value: "{{ total.stats }}"
    - name: today
      state:
        - name: "stats"
          value: "{{ total.stats }}"
    - name: week
      state:
        - name: "stats"
          value: "{{ total.stats }}"
    - name: month
      state:
        - name: "stats"
          value: "{{ total.stats }}"
    - name: undefined
      state:
        - name: "stats"
          value: "{{ total.stats }}"
    - name: reopen
      state:
        - name: "stats"
          value: "{{ total.stats }}"

    - name: trendChartExtra
    - name: trendChartFilter
    - name: trendChart
      state:
        - name: "filterValues"
          value: "{{ trendChartFilter.values }}"
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "values"
          value: "{{ filter.values }}"
        - name: "iterations"
          value: "{{ filter.iterations }}"
    - name: chartGroup1
    - name: chartGroup2
    - name: statePieChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
    - name: complexityPieChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
    - name: priorityPieChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
    - name: severityPieChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
    - name: stagePieChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "stages"
          value: "{{ filter.stages }}"

    - name: stateVerticalBarChartExtra
    - name: stateVerticalBarChartFilter
      state:
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
        - name: "stages"
          value: "{{ filter.stages }}"
    - name: stateVerticalBarChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
        - name: "stages"
          value: "{{ filter.stages }}"
        - name: "values"
          value: "{{ trendChartFilter.values }}"

    - name: labelHorizontalBarChartExtra
    - name: labelHorizontalBarChartFilter
      state:
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
        - name: "stages"
          value: "{{ filter.stages }}"
    - name: labelHorizontalBarChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
        - name: "stages"
          value: "{{ filter.stages }}"
        - name: "values"
          value: "{{ labelHorizontalBarChartFilter.values }}"

    - name: assigneeHorizontalBarChartExtra
    - name: assigneeHorizontalBarChartFilter
      state:
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
        - name: "stages"
          value: "{{ filter.stages }}"
    - name: assigneeHorizontalBarChart
      state:
        - name: "issueList"
          value: "{{ filter.issueList }}"
        - name: "issueStateList"
          value: "{{ filter.issueStateList }}"
        - name: "members"
          value: "{{ filter.members }}"
        - name: "stages"
          value: "{{ filter.stages }}"
        - name: "values"
          value: "{{ assigneeHorizontalBarChartFilter.values }}"

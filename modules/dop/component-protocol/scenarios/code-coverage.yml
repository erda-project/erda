version: 1.0
scenario: code-coverage

hierarchy:
  root: page
  structure:
    page:
      - title
      - tip
      - buttonGroup
      - codeCoverChart
      - treeMapChart
    buttonGroup:
      - startButton
      - endButton
      - cancelButton
      - executeHistory
    executeHistory:
      children: executeHistoryButton
      content: executeHistoryContent
    executeHistoryContent:
      - executeHistoryTable
    codeCoverChart:
      extraContent: timeSelector
    treeMapChart:
      extraContent: downloadButton

components:
  page:
    type: Container
    props:
      spaceSize: middle
  title:
    type: Title
    props:
      title: "代码覆盖率统计计划"
  buttonGroup:
    type: RowContainer
    props:
      contentSetting: end
  codeCoverChart:
    type: Chart
  startButton:
    type: Button
  cancelButton:
    type: Button
  endButton:
    type: Button
  executeHistory:
    type: Popover
    props:
      placement: leftBottom
      size: xl
      title: "项目代码覆盖率统计执行记录"
      trigger: click
  executeHistoryButton:
    type: Button
    props:
      text: "执行记录"
      type: "primary"
  executeHistoryContent:
    type: Container
  executeHistoryTable:
    type: Table
  tip:
    type: Alert
    props:
      type: warning
      showIcon: false
      message: "说明：代码覆盖统计计划是指开启统计和结束统计周期的管理，计划开始后会完全重新统计，在结束之前会持续统计，结束后会生成统计记录和报告"
  treeMapChart:
    type: Chart
  downloadButton:
    type: Button
  timeSelector:
    type: DatePicker

rendering:
  cancelButton:
    - name: endButton
    - name: startButton
    - name: executeHistoryTable
  startButton:
    - name: endButton
    - name: executeHistoryTable
  endButton:
    - name: startButton
    - name: executeHistoryTable
  timeSelector:
    - name: codeCoverChart
      state:
        - name: "value"
          value: "{{ timeSelector.value }}"
    - name: treeMapChart
      state:
        - name: "recordID"
          value: "{{ codeCoverChart.recordID }}"
    - name: downloadButton
      state:
        - name: "recordID"
          value: "{{ codeCoverChart.recordID }}"
  codeCoverChart:
    - name: treeMapChart
      state:
        - name: "recordID"
          value: "{{ codeCoverChart.recordID }}"
    - name: downloadButton
      state:
        - name: "recordID"
          value: "{{ codeCoverChart.recordID }}"

  __DefaultRendering__:
    - name: startButton
    - name: endButton
    - name: cancelButton
    - name: timeSelector
    - name: codeCoverChart
      state:
        - name: "value"
          value: "{{ timeSelector.value }}"
    - name: treeMapChart
      state:
        - name: "recordID"
          value: "{{ codeCoverChart.recordID }}"
    - name: downloadButton
      state:
        - name: "recordID"
          value: "{{ codeCoverChart.recordID }}"
    - name: executeHistoryTable

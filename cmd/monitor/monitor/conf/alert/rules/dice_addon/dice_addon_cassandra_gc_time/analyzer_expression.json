{
  "id":"dice_addon_cassandra_gc_time",
  "expression":{
    "filters":[
      {
        "operator":"eq",
        "tag":"org_name",
        "value":"$org_name"
      },
      {
        "operator":"eq",
        "tag":"addon_id",
        "value":"cassandra"
      },
      {
        "operator":"like",
        "tag":"name",
        "value":"Old"
      }
    ],
    "functions":[
      {
        "aggregator":"min",
        "field":"CollectionTime_min",
        "field_script":"function invoke(fields,tags){return fields.CollectionTime;}"
      },
      {
        "aggregator":"max",
        "field":"CollectionTime_max",
        "field_script":"function invoke(fields,tags){return fields.CollectionTime;}"
      },
      {
        "aggregator":"value",
        "field":"CollectionTime_win",
        "field_script":"function invoke(fields,tags){return fields.CollectionTime_max-fields.CollectionTime_min;}",
        "operator":"gte",
        "trigger":"aggregated",
        "value":15000
      }
    ],
    "group":[
      "cluster_name",
      "node_id"
    ],
    "metrics":[
      "addon_java_GarbageCollector"
    ],
    "outputs":[
      "alert"
    ],
    "select":{
      "_meta":"#_meta",
      "_metric_scope":"#_metric_scope",
      "_metric_scope_id":"#_metric_scope_id",
      "addon_id":"#addon_id",
      "addon_type":"#addon_type",
      "cluster_name":"#cluster_name",
      "node_host":"#jolokia_host",
      "org_name":"#org_name"
    },
    "window":3
  }
}

### List models
GET https://{{ai-proxy_host}}/api/ai-proxy/models
Authorization: Bearer {{ai-proxy_root-key}}

### List credentials
GET https://{{ai-proxy_host}}/api/ai-proxy/credentials
Authorization: Bearer {{ai-proxy_root-key}}

### Create credential
POST https://{{ai-proxy_host}}/api/ai-proxy/credentials
Content-Type: application/json
Authorization: Bearer {{ai-proxy_root-key}}

{
  "name": "<the-name>",
  "platform": "<the-platform>",
  "description": "<description>",
  "enabled": true,
  "providerName": "<provider-name>",
  "providerInstanceId": "<provider-instance-id>"
}

### Create session
POST https://{{ai-proxy_host}}/api/ai-proxy/sessions
Content-Type: application/json
X-Ai-Proxy-User-Id: <user-id>

{
  "name": "test-session-1",
  "topic": "i am a Go developer, you are my pair programming partner",
  "contextLength": 5,
  "source": "<source>",
  "model": "<model>",
  "temperature": 0.7
}

### List sessions
GET https://{{ai-proxy_host}}/api/ai-proxy/sessions
Content-Type: application/json
X-Ai-Proxy-User-Id: <user-id>
X-AI-Proxy-Source: <source>

### Chat on erda in a session
POST https://{{ai-proxy_host}}/v1/chat/completions
Content-Type: application/json
X-AI-Proxy-SessionId: {{ai-proxy_my-session-id}}
X-AI-Proxy-Source: <source>
X-Ai-Proxy-User-Id: <user-id>

{
  "model": "<model>",
  "messages": [
    {
      "role": "user",
      "content": "介绍 Go"
    }
  ],
  "max_tokens": 2048,
  "stream": true
}

### update session
PUT https://{{ai-proxy_host}}/api/ai-proxy/sessions/{{$random.uuid}}
Content-Type: application/json
X-Ai-Proxy-User-Id: <user-id>

{
  "name": "test-session-1",
  "topic": "i am a Go developer, you are my pair programming partner",
  "contextLength": 5,
  "source": "<source>",
  "model": "<model>",
  "temperature": 0.7,
  "resetAt": "2020-05-31T15:31:44Z"
}

### Get chat logs
GET https://{{ai-proxy_host}}/api/ai-proxy/chat-logs
Content-Type: application/json
X-Ai-Proxy-User-Id: <user-id>
X-AI-Proxy-SessionId: {{ai-proxy_my-session-id}}

### Get session chat logs
GET https://{{ai-proxy_host}}/api/ai-proxy/sessions/{{ai-proxy_my-session-id}}/chat-logs
Content-Type: application/json
X-Ai-Proxy-User-Id: <user-id>
X-AI-Proxy-SessionId: {{ai-proxy_my-session-id}}

### chat on other platform
POST https://{{ai-proxy_host}}/v1/chat/completions
#Authorization: Bearer {{access-key-id}}
Authorization: Bearer {{ai-proxy_app-key}}
Content-Type: application/json

{
  "model": "<model>",
  "messages": [
    {
      "role": "user",
      "content": "柠檬精是什么 ?"
    }
  ],
  "max_tokens": 2048,
  "stream": false
}

### Delete credential
DELETE https://{{ai-proxy_host}}/api/ai-proxy/credentials/{id}

### Get credential
GET https://{{ai-proxy_host}}/api/ai-proxy/credentials/{id}

### List models
GET https://{{ai-proxy_host}}/v1/models
Authorization: Bearer {{access-key-id}}
Content-Type: application/json
# ctxhelper

Type-safe helpers for putting/getting values in context with generated `Get/Put/MustGet`.

## Usage

```bash
# Run in this directory
go generate

# Or from project root
go generate ./internal/apps/ai-proxy/common/ctxhelper
```

The `generated.go` file is auto-generated by `go generate`. Do not edit it manually.

## Define Keys

Use type definitions (not aliases) in `keys.go`:

```go
type (
    mapKeyExample struct{ ExampleType }
)
```

Generated functions:
- `GetExample(ctx) (ExampleType, bool)`
- `PutExample(ctx, v ExampleType)`
- `MustGetExample(ctx) ExampleType`

## Custom MustGet

Mark keys that need custom behavior and implement them manually:

```go
var KeysWithCustomMustGet = map[any]bool{
    mapKeyLogger{}:             true,
    mapKeyResponseChunkIndex{}: true,
}
```

## Files

- `keys.go`: key definitions
- `generated.go`: generated helpers (do not edit)
- `generate/`: code generator
- `ctx.go`: core get/put utilities

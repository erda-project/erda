{
    "attributes":{},
    "version":"3.0",
    "expression":{
        "alias":"ta_metric_mobile_metrics",
        "filters":[
            {
                "tag":"registrationTime",
                "operator":"any"
            }
        ],
        "group":[
            "uid"
        ],
        "functions":[
            {
                "aggregator":"value",
                "field":"firstDayUserId",
                "field_script":"function invoke(field, tag) { if (new Date(parseInt(tag.registrationTime)).toDateString() === new Date().toDateString()) { return tag.uid } return null }"
            },
            {
                "aggregator":"value",
                "field":"secondDayUserId",
                "field_script":"function invoke(field, tag) {var end = new Date(new Date(new Date().toLocaleDateString()).getTime());var start = new Date(new Date(new Date(parseInt(tag.registrationTime)).toLocaleDateString()).getTime());var days = end.getTime() - start.getTime();var day1 = parseInt(days / (1000 * 60 * 60 * 24));if (day1 === 1) {return tag.uid}return null}"
            }
        ],
        "metric":"ta_metric_mobile_metrics",
        "outputs":[
            "metric"
        ],
        "select":{
            "ai":"#ai",
            "av":"#av",
            "br":"#br",
            "channel":"#channel",
            "cid":"#cid",
            "cpu":"#cpu",
            "device":"#device",
            "doc_path":"#doc_path",
            "gps":"#gps",
            "host":"#host",
            "ip":"#ip",
            "jb":"#jb",
            "mem":"#mem",
            "ns":"#ns",
            "ch":"#ch",
            "os":"#os",
            "osv":"#osv",
            "rom":"#rom",
            "sd":"#sd",
            "sdk":"#sdk",
            "sr":"#sr",
            "tk":"#tk",
            "type":"#type",
            "uid":"#uid",
            "vid":"#vid"
        },
        "window":3
    }
}